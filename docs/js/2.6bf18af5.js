(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0565":function(e,t,s){"use strict";s("16f0")},"16f0":function(e,t,s){},3486:function(e,t,s){},"8b24":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("q-page",{staticClass:"page"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col main-column input-column"},[s("div",{staticClass:"column-title"},[e._v("Step 1. Input JSON")]),s("div",{staticClass:"input-textarea-container"},[s("q-input",{staticClass:"input-textarea",attrs:{filled:"",type:"textarea",rows:"40"},model:{value:e.inputText,callback:function(t){e.inputText=t},expression:"inputText"}})],1),s("q-btn",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{color:"primary",label:"Generate schema","icon-right":"send"},on:{click:e.jsonInputDoneClicked}})],1),s("div",{staticClass:"col main-column processing-column"},[s("div",{staticClass:"column-title"},[e._v("Step 2. Preview schema pseudocode")]),s("div",{staticClass:"preview-schema-container"},[s("code",{domProps:{innerHTML:e._s(e.schemaPreviewText)}})]),e.isSchemaPreviewSuccessful?s("q-select",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{outlined:"",options:e.targetTypes,label:"Select target type"},model:{value:e.target.type,callback:function(t){e.$set(e.target,"type",t)},expression:"target.type"}}):e._e(),e.target.type&&"java-pojo"==e.target.type.value?s("div",[s("q-btn",{staticStyle:{"margin-top":"20px",width:"100%"},attrs:{color:"primary",label:"Generate Java POJO","icon-right":"send"},on:{click:e.generateJavaPojoClicked}})],1):e._e()],1),s("div",{staticClass:"col main-column output-column"},[s("div",{staticClass:"column-title"},[e._v("Step 3. Generate deserialization code")])])])])},i=[];s("ddb0");class l{constructor(e={onStringAndNumberCollision:"prefer-string",onNullCollision:"allow"}){this.opt=e,this.schema={}}_getType(e){return null===e?"null":"object"===typeof e?Array.isArray(e)?"array":"object":typeof e}_throwTypeMismatch(e,t,s){var a=`Type mismatch in: ${e}. Expected ${t}, received ${s}.`;throw new Error(a)}_process(e,t,s){let a=this._getType(e);if(t.type&&t.type!==a){if("allow"===this.opt.onNullCollision&&"null"===a)return void(t.allowNull=!0);if(("string"===a&&"number"===t.type||"number"===a&&"string"===t.type)&&"prefer-string"===this.opt.onStringAndNumberCollision)return t.type="string",void(t.coerce=!0);"allow"===this.opt.onNullCollision&&"null"===t.type?t.allowNull=!0:this._throwTypeMismatch(s,t.type,a)}if(t.type=a,"array"===a){t.childKey||(t.childKey=null);for(let a=0;a<e.length;a+=1){let i=e[a];t.childKey||(t.childKey={}),this._process(i,t.childKey,`${s}[${a}]`)}}else if("object"===a){t.keys||(t.keys={});let a=Object.keys(e);for(let i of a){let a=e[i];t.keys[i]||(t.keys[i]={}),this._process(a,t.keys[i],`${s}.${i}`)}}}process(e){return e=JSON.parse(JSON.stringify(e)),this._process(e,this.schema,"~"),this.schema}}var n={name:"PageIndex",data(){return{isSchemaPreviewSuccessful:!1,targetTypes:[{label:"Java POJO",value:"java-pojo"},{label:"SQL Tables",value:"sql-tables"}],target:{type:null},inputText:JSON.stringify([{userId:1,name:{first:"Abdur",last:"Rahim"},country:"Bangladesh",age:23,favoriteNumbers:[1,4,1],lastLogin:null},{userId:2,name:{first:"Abd",middle:"Bin",last:"Karim"},country:"Saudi Arabia",age:43,favoriteNumbers:[333],lastLogin:"2021-04-06T09:32:07.911Z"},{userId:3,name:{first:"John",last:null},country:"United States",age:34,favoriteNumbers:[32,4343,34]},{userId:4,name:null,country:"Canada",isUnderage:!0,age:"5",favoriteNumbers:[9]}],null,2),schemaPreviewText:""}},methods:{generateJavaPojoClicked(){alert("Under construction")},prettyPrintSchemaAsHtml(e,t="&lt;root&gt;",s=""){let a="",i=e=>`<span class="st-name${0==e.indexOf("&lt;")?" st-name-sp":""}">${e}</span>`,l=e=>`<span class="st-type">${e}</span>`;if(a+=`${s}${i(t)}: ${l(e.type)}\n        ${e.allowNull?" (nullable)":""}${e.coerce?" (coerce)":""}<br>`,"array"===e.type&&e.childKey)a+=this.prettyPrintSchemaAsHtml(e.childKey,"&lt;array-item&gt;",s+'<span class="st-div"></span>');else if("object"===e.type)for(let n in e.keys)a+=this.prettyPrintSchemaAsHtml(e.keys[n],n,s+'<span class="st-div"></span>');return a},jsonInputDoneClicked(){this.isSchemaPreviewSuccessful=!1;try{let e=JSON.parse(this.inputText),t=new l,s=t.process(e);console.log("Schema",s);let a=this.prettyPrintSchemaAsHtml(s);console.log(a),this.schemaPreviewText=a,this.isSchemaPreviewSuccessful=!0}catch(e){console.error(e),this.schemaPreviewText=`<span style="color: red;">${e.message}</span>`}}}},r=n,o=(s("0565"),s("eb0d"),s("2877")),c=s("9989"),p=s("27f9"),u=s("9c40"),d=s("ddd8"),m=s("eebe"),y=s.n(m),h=Object(o["a"])(r,a,i,!1,null,null,null);t["default"]=h.exports;y()(h,"components",{QPage:c["a"],QInput:p["a"],QBtn:u["a"],QSelect:d["a"]})},eb0d:function(e,t,s){"use strict";s("3486")}}]);